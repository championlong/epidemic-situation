webpackJsonp([34],{"0WFs":function(e,t){},"0f9C":function(e,t){},"3nIP":function(e,t){},"5e7d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("woOf"),r=n.n(a),s=n("Xxa5"),i=n.n(s),o=n("exGp"),c=n.n(o),u=n("OOvn"),l=function(e,t){var n={page:e,pageSize:t};return Object(u.a)({url:"/dynameic/getList",method:"get",params:n})},d={data:function(){return{page:1,pageSize:5,brandFold:!0,als:[],textHeight:null}},created:function(){this.getList()},methods:{getList:function(){var e=this;return c()(i.a.mark(function t(){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e.page,e.pageSize);case 2:n=t.sent,e.als=n.data,e.show();case 5:case"end":return t.stop()}},t,e)}))()},show:function(){var e=this;this.als.forEach(function(t,n){e.$set(e.als,n,r()({},t,{status:null}))}),this.$nextTick(function(){e.calculateText()}),window.onresize=function(){e.als.forEach(function(t,n){e.$set(e.als,n,r()({},t,{status:null}))}),setTimeout(function(){e.calculateText()},0)}},calculateText:function(){var e=5*this.$refs.more.scrollHeight||100;this.textHeight=e+"px";for(var t=this.$refs.textContainer,n=0;n<t.length;n++){t[n].offsetHeight>e?this.$set(this.als,n,r()({},this.als[n],{status:!0})):this.$set(this.als,n,r()({},this.als[n],{status:null}))}},view:function(){var e=this;return c()(i.a.mark(function t(){var n,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],e.page++,t.next=4,l(e.page,e.pageSize);case 4:a=t.sent,(n=a.data).length<=3&&(e.brandFold=!1),e.als=e.als.concat(n),e.show();case 9:case"end":return t.stop()}},t,e)}))()}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"75%"}},[n("el-timeline",e._l(e.als,function(t,a){return n("el-timeline-item",{key:a,attrs:{timestamp:t.data,placement:"top"}},[n("el-card",[n("div",{ref:"more",refInFor:!0}),e._v(" "),n("div",[n("div",{ref:"textContainer",refInFor:!0,class:{retract:t.status},style:{"max-height":t.status?e.textHeight:""}},[n("el-link",{attrs:{href:t.sourceUrl,target:"_blank",underline:!1}},[n("h4",[e._v(e._s(t.title))])]),e._v(" "),n("p",[e._v("\n              "+e._s(t.article)+"\n            ")])],1),e._v(" "),n("br"),e._v("\n          信息来源："+e._s(t.source)+"\n          "),n("div",{staticClass:"btn"},[t.status?n("p",{on:{click:function(e){t.status=!1}}},[e._v("展开")]):e._e(),e._v(" "),0==t.status?n("p",{on:{click:function(e){t.status=!0}}},[e._v("收起")]):e._e()])])])],1)}),1),e._v(" "),!0===e.brandFold?n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"info"},on:{click:e.view}},[e._v("点击查看更多")])],1):e._e()],1)},staticRenderFns:[]};var f=n("VU/8")(d,m,!1,function(e){n("yNC9")},"data-v-57b65fa0",null);t.default=f.exports},"7pFl":function(e,t){},"7xIN":function(e,t){},AZN1:function(e,t,n){var a={"./anhui":["LxaZ",32],"./anhui.js":["LxaZ",32],"./aomen":["bFhG",31],"./aomen.js":["bFhG",31],"./beijing":["bIQF"],"./beijing.js":["bIQF"],"./chongqing":["yOrR",30],"./chongqing.js":["yOrR",30],"./fujian":["MF5D",29],"./fujian.js":["MF5D",29],"./gansu":["wlbM",28],"./gansu.js":["wlbM",28],"./guangdong":["q8av",27],"./guangdong.js":["q8av",27],"./guangxi":["d+A2",26],"./guangxi.js":["d+A2",26],"./guizhou":["gQu3",25],"./guizhou.js":["gQu3",25],"./hainan":["lWJF",24],"./hainan.js":["lWJF",24],"./hebei":["fl3M",23],"./hebei.js":["fl3M",23],"./heilongjiang":["rugJ",22],"./heilongjiang.js":["rugJ",22],"./henan":["uf2Q",21],"./henan.js":["uf2Q",21],"./hubei":["BrxA",20],"./hubei.js":["BrxA",20],"./hunan":["Bu9l",19],"./hunan.js":["Bu9l",19],"./jiangsu":["aM2Z",18],"./jiangsu.js":["aM2Z",18],"./jiangxi":["sLa+",17],"./jiangxi.js":["sLa+",17],"./jilin":["RXgU",16],"./jilin.js":["RXgU",16],"./liaoning":["4h20",15],"./liaoning.js":["4h20",15],"./neimenggu":["+kzi",14],"./neimenggu.js":["+kzi",14],"./ningxia":["DvFz",13],"./ningxia.js":["DvFz",13],"./qinghai":["+EQR",12],"./qinghai.js":["+EQR",12],"./shandong":["H/fg",11],"./shandong.js":["H/fg",11],"./shanghai":["2UcM",10],"./shanghai.js":["2UcM",10],"./shanxi":["OPXM",9],"./shanxi.js":["OPXM",9],"./shanxi1":["GxeG",8],"./shanxi1.js":["GxeG",8],"./sichuan":["LM7n",7],"./sichuan.js":["LM7n",7],"./taiwan":["2JxT",6],"./taiwan.js":["2JxT",6],"./tianjin":["ZpZ2",5],"./tianjin.js":["ZpZ2",5],"./xianggang":["Zb2g",4],"./xianggang.js":["Zb2g",4],"./xinjiang":["3AnA",3],"./xinjiang.js":["3AnA",3],"./xizang":["NWZx",2],"./xizang.js":["NWZx",2],"./yunnan":["aZfD",1],"./yunnan.js":["aZfD",1],"./zhejiang":["Knpt",0],"./zhejiang.js":["Knpt",0]};function r(e){var t=a[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}r.keys=function(){return Object.keys(a)},r.id="AZN1",e.exports=r},Fsl4:function(e,t){},IcnI:function(e,t,n){"use strict";var a=n("//Fk"),r=n.n(a),s=n("NYxO"),i=n("7+uW"),o=n("Moy7"),c=n("M9A7");i.default.use(s.a),t.a=new s.a.Store({state:{id:"",username:"",name:"",icon:"",token:Object(o.a)()},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_ACCOUNT:function(e,t){e.username=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.icon=t},SET_ID:function(e,t){e.id=t}},actions:{login:function(e,t){var n=e.commit;return new r.a(function(e,a){Object(c.c)(t.username,t.password).then(function(t){var a=t.data.token;Object(o.c)(a),n("SET_TOKEN",a),e()}).catch(function(e){a(e)})})},getUserInfo:function(e){var t=e.commit;e.state;return new r.a(function(e,n){Object(c.b)().then(function(n){n.data?(t("SET_ACCOUNT",n.data.username),t("SET_AVATAR",n.data.icon)):(t("SET_ACCOUNT",""),t("SET_NAME",""),t("SET_AVATAR",""),t("SET_ID",""),Object(o.b)()),e(n)}).catch(function(e){n(e)})})},logout:function(e){var t=e.commit;e.state;return new r.a(function(e,n){Object(c.d)().then(function(n){t("SET_TOKEN",""),t("SET_ACCOUNT",""),t("SET_NAME",""),t("SET_AVATAR",""),t("SET_ID",""),Object(o.b)(),e()}).catch(function(e){n(e)})})},fedLogOut:function(e){var t=e.commit;return new r.a(function(e){t("SET_TOKEN",""),t("SET_ACCOUNT",""),t("SET_NAME",""),t("SET_AVATAR",""),t("SET_ID",""),Object(o.b)(),e()}).catch(function(e){reject(e)})}}})},M9A7:function(e,t,n){"use strict";t.c=function(e,t){var n={username:e,password:t};return Object(a.a)({url:"/user/login",method:"post",data:n})},t.d=function(){return Object(a.a)({url:"/user/logout",method:"post"})},t.b=function(){return Object(a.a)({url:"/user/info",method:"get"})},n.d(t,"a",function(){return r}),t.e=function(e,t){var n={user:e,verify:t};return Object(a.a)({url:"/user/register",method:"post",data:n})};var a=n("OOvn");var r=function(e){var t={email:e};return Object(a.a)({url:"/user/code",method:"get",params:t})}},Moy7:function(e,t,n){"use strict";t.a=function(){return localStorage.token},t.c=function(e){return localStorage.token=e},t.b=function(){return localStorage.removeItem("token")}},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("fCJj");var a=n("qBF2"),r=n.n(a),s=n("7+uW"),i={name:"GoTop",data:function(){return{topShow:!1}},methods:{toTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.topShow=!1},needToTop:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;this.topShow=e>400}},mounted:function(){this.$nextTick(function(){window.addEventListener("scroll",this.needToTop)})}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.topShow,expression:"topShow"}],staticClass:"me-to-top",on:{click:this.toTop}},[t("i",{staticClass:"el-icon-caret-top"})])])},staticRenderFns:[]};var c={name:"App",components:{GoTop:n("VU/8")(i,o,!1,function(e){n("WNrF")},null,null).exports}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view"),this._v(" "),t("go-top")],1)},staticRenderFns:[]};var l=n("VU/8")(c,u,!1,function(e){n("3nIP")},null,null).exports,d=(n("tvR6"),n("2X9z")),m=n.n(d),f=n("/ocq"),h={name:"BaseHeader",props:{activeIndex:String,simple:{type:Boolean,default:!1}},data:function(){return{}},computed:{user:function(){return{login:0===this.$store.state.username.length,avatar:this.$store.state.icon}}},methods:{logout:function(){var e=this;this.$store.dispatch("logout").then(function(){location.reload()}).catch(function(t){"error"!==t&&e.$message({message:t,type:"error",showClose:!0})})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",{staticClass:"me-area"},[a("el-row",{staticClass:"me-header"},[a("el-col",{staticClass:"me-header-left",attrs:{span:4}},[a("router-link",{staticClass:"me-title",attrs:{to:"/"}},[a("img",{attrs:{src:n("dLd/")}})])],1),e._v(" "),e.simple?[e._t("default")]:a("el-col",{attrs:{span:16}},[a("el-menu",{attrs:{router:!0,"menu-trigger":"click","active-text-color":"#5FB878","default-active":e.activeIndex,mode:"horizontal"}},[a("el-menu-item",{attrs:{index:"/index"}},[e._v("首页")]),e._v(" "),a("el-menu-item",{attrs:{index:"/map"}},[e._v("疫情地图")]),e._v(" "),a("el-menu-item",{attrs:{index:"/dynamic"}},[e._v("疫情动态")])],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-menu",{attrs:{router:!0,"menu-trigger":"click",mode:"horizontal","active-text-color":"#5FB878"}},[e.user.login?[a("el-menu-item",{attrs:{index:"/login"}},[a("el-button",{attrs:{type:"text"}},[e._v("登录")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"/register"}},[a("el-button",{attrs:{type:"text"}},[e._v("注册")])],1)]:[a("el-submenu",{attrs:{index:""}},[a("template",{slot:"title"},[a("img",{staticClass:"me-header-picture",attrs:{src:e.user.avatar}})]),e._v(" "),a("el-menu-item",{attrs:{index:""},on:{click:e.logout}},[a("i",{staticClass:"el-icon-back"}),e._v("退出")])],2)]],2)],1)],2)],1)},staticRenderFns:[]};var g={name:"Home",data:function(){return{activeIndex:"/",footerShow:!0}},components:{"base-header":n("VU/8")(h,p,!1,function(e){n("7pFl")},null,null).exports},beforeRouteEnter:function(e,t,n){n(function(t){t.activeIndex=e.path})},beforeRouteUpdate:function(e,t,n){"/"==e.path?this.footerShow=!0:this.footerShow=!1,this.activeIndex=e.path,n()}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"home"}},[t("el-container",[t("base-header",{attrs:{activeIndex:this.activeIndex}}),this._v(" "),t("router-view",{staticClass:"me-container"})],1)],1)},staticRenderFns:[]};var b=n("VU/8")(g,v,!1,function(e){n("RCKZ")},null,null).exports,x=(n("mlqX"),n("lmfZ"),n("tcoL"),n("QYAS"),n("5e7d"),n("IcnI")),_=n("Moy7");s.default.use(f.a);var w=new f.a({routes:[{path:"/",redirect:"/index"},{path:"",name:"Home",component:b,children:[{path:"/index",component:function(e){return new Promise(function(e){e()}).then(function(){return e(n("mlqX"))}.bind(null,n)).catch(n.oe)}},{path:"/map",component:function(e){return new Promise(function(e){e()}).then(function(){return e(n("QYAS"))}.bind(null,n)).catch(n.oe)}},{path:"/dynamic",component:function(e){return new Promise(function(e){e()}).then(function(){return e(n("5e7d"))}.bind(null,n)).catch(n.oe)}}]},{path:"/login",component:function(e){return new Promise(function(e){e()}).then(function(){return e(n("lmfZ"))}.bind(null,n)).catch(n.oe)}},{path:"/register",component:function(e){return new Promise(function(e){e()}).then(function(){return e(n("tcoL"))}.bind(null,n)).catch(n.oe)}}],scrollBehavior:function(e,t,n){return{x:0,y:0}}});w.beforeEach(function(e,t,n){Object(_.a)()?"/login"===e.path?n({path:"/"}):0===x.a.state.username.length?x.a.dispatch("getUserInfo").then(function(e){n()}).catch(function(){n({path:"/"})}):n():e.matched.some(function(e){return e.meta.requireLogin})?m()({type:"warning",showClose:!0,message:"请先登录哦"}):n()});var y=w,j=n("M4fF"),F=n.n(j);n("7xIN");var k=n("dAEq"),C=n.n(k);n("qb6w"),n("Bb4J");s.default.config.productionTip=!1,s.default.use(r.a),s.default.use(C.a,{ak:"k8FwPDpAMU82EQjFdXy1uGeegXGL00dh"}),Object.defineProperty(s.default.prototype,"$_",{value:F.a}),s.default.directive("title",function(e,t){document.title=e.dataset.title}),s.default.filter("format",function(e){var t=new Date(e),n=(Date.now()-t)/1e3;return n<30?"刚刚":n<3600?Math.ceil(n/60)+"分钟前":n<86400?Math.ceil(n/3600)+"小时前":n<172800?"1天前":e}),new s.default({el:"#app",router:y,store:x.a,template:"<App/>",components:{App:l}})},OOvn:function(e,t,n){"use strict";var a=n("2X9z"),r=n.n(a),s=n("//Fk"),i=n.n(s),o=n("mtWM"),c=n.n(o),u=n("IcnI"),l=n("Moy7"),d=c.a.create({baseURL:Object({NODE_ENV:"production"}).BASE_API,timeout:1e4});d.interceptors.request.use(function(e){return u.a.state.token&&(e.headers.Authorization=Object(l.a)()),e},function(e){i.a.reject(e)}),d.interceptors.response.use(function(e){var t=e.data;return 200!==t.code?(r()({message:t.message,type:"error",duration:3e3}),401===t.code&&MessageBox.confirm("你已被登出，可以取消继续留在该页面，或者重新登录","确定登出",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then(function(){u.a.dispatch("FedLogOut").then(function(){location.reload()})}),i.a.reject("error")):e.data},function(e){return console.log("err"+e),r()({message:e.message,type:"error",duration:3e3}),i.a.reject(e)}),t.a=d},QYAS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("exGp"),i=n.n(s),o=n("bOdI"),c=n.n(o),u={name:"demo",data:function(){return{socket:null,data_info:[]}},watch:{data_info:{handler:function(){this.showInfo()},deep:!0}},created:function(){this.initWebSocket()},destroyed:function(){this.socket.close()},mounted:function(){this.showInfo()},methods:{initMapHeight:function(){document.getElementById("container").style.height=window.innerHeight-105+"px"},showInfo:function(){this.initMapHeight();var e=new AMap.Map("container",{resizeEnable:!0,rotateEnable:!0,pitchEnable:!0,zoom:17,rotation:-15,viewMode:"3D",buildingAnimation:!0,expandZoomRange:!0,zooms:[3,20],center:[126.61977,45.718752]});AMap.plugin(["AMap.ControlBar"],function(){e.addControl(new AMap.ControlBar)}),AMap.plugin("AMap.Geolocation",function(){var t=new AMap.Geolocation({enableHighAccuracy:!0,buttonPosition:"RB",buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,showCircle:!1});e.addControl(t),t.getCurrentPosition(function(t,n){var a,r,s;"complete"==t?(a=n,(s=new AMap.Circle((r={center:[a.position.lng,a.position.lat],radius:1e3,borderWeight:3,strokeColor:"#FF33FF",strokeOpacity:1,strokeWeight:6},c()(r,"strokeOpacity",.2),c()(r,"fillOpacity",.4),c()(r,"strokeDasharray",[10,10]),c()(r,"fillColor","#1791fc"),c()(r,"zIndex",50),r))).setMap(e),e.setFitView([s])):alert("定位失败")})});for(var t=new AMap.InfoWindow({offset:new AMap.Pixel(0,-30)}),n=0;n<this.data_info.length;n++){var a=[this.data_info[n].lng,this.data_info[n].lat],r=this.data_info[n].total,s=this.data_info[n].present,i=this.data_info[n].place;if(r>=s)var o="<div style='width: 200px;'> <p><span class='badge badge-success'>"+i+"</span> 疫情期间可容纳 <span class='badge badge-success'>"+r+"</span> 人，目前有 <span class='badge badge-success'>"+s+"</span> 人。<span class=\"badge badge-primary\" style='float:right;margin-top: 5px;'>无需排队</span></p>\n</div>";else o="<div style='width: 200px;'> <p><span class='badge badge-success'>"+i+"</span> 疫情期间可容纳 <span class='badge badge-success'>"+r+"</span> 人，目前有 <span class='badge badge-danger'>"+s+"</span> 人。<span class=\"badge badge-danger\" style='float:right;margin-top: 5px;'>需要排队</span></p>\n</div>";var u=new AMap.Marker({position:a,map:e});u.content=o,u.on("click",l)}function l(n){t.setContent(n.target.content),t.open(e,n.target.getPosition())}e.setFitView()},initWebSocket:function(){window.WebSocket?(this.socket=new WebSocket("ws://39.103.197.0:8088/ws"),this.socket.onmessage=this.websocketonmessage,this.socket.onopen=this.websocketonopen,this.socket.onerror=this.websocketonerror,this.socket.onclose=this.websocketclose):console.log("浏览器不支持websocket")},websocketonopen:function(){console.log("建立成功");this.websocketsend("test")},websocketonerror:function(){console.log("建立连接异常"),this.initWebSocket()},websocketonmessage:function(e){this.data_info=JSON.parse(e.data),console.log(this.data_info)},websocketsend:function(e){console.log("数据发送"),this.socket.send(e)},websocketclose:function(e){console.log("断开连接")}}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticStyle:{width:"100%",height:"99.9%",resize:"both"},attrs:{id:"container"}})])}]};var d={name:"Log",components:{demo:n("VU/8")(u,l,!1,function(e){n("cC05")},"data-v-fa4ba1b8",null).exports},data:function(){return{restaurants:[],state:"",timeout:null}},methods:{loadAll:function(){return[{value:"三全鲜食（北新泾店）",address:"长宁区新渔路144号"},{value:"Hot honey 首尔炸鸡（仙霞路）",address:"上海市长宁区淞虹路661号"},{value:"新旺角茶餐厅",address:"上海市普陀区真北路988号创邑金沙谷6号楼113"},{value:"泷千家(天山西路店)",address:"天山西路438号"},{value:"胖仙女纸杯蛋糕（上海凌空店）",address:"上海市长宁区金钟路968号1幢18号楼一层商铺18-101"},{value:"贡茶",address:"上海市长宁区金钟路633号"},{value:"豪大大香鸡排超级奶爸",address:"上海市嘉定区曹安公路曹安路1685号"},{value:"茶芝兰（奶茶，手抓饼）",address:"上海市普陀区同普路1435号"},{value:"十二泷町",address:"上海市北翟路1444弄81号B幢-107"},{value:"南拳妈妈龙虾盖浇饭",address:"普陀区金沙江路1699号鑫乐惠美食广场A13"}]},querySearchAsync:function(e,t){var n=this;return i()(r.a.mark(function a(){var s,i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:s=n.restaurants,i=e?s.filter(n.createStateFilter(e)):s,clearTimeout(n.timeout),n.timeout=setTimeout(function(){t(i)},3e3*Math.random());case 4:case"end":return a.stop()}},a,n)}))()},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e)}},mounted:function(){this.restaurants=this.loadAll()}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block"},[n("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),e._v(" "),n("demo")],1)},staticRenderFns:[]};var f=n("VU/8")(d,m,!1,function(e){n("w3dv")},null,null);t.default=f.exports},RCKZ:function(e,t){},WNrF:function(e,t){},cC05:function(e,t){},"dLd/":function(e,t,n){e.exports=n.p+"static/img/logo.8869c89.png"},dQKM:function(e,t){},djBx:function(e,t){},fCJj:function(e,t){},lmfZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"title",rawName:"v-title"}],attrs:{id:"login","data-title":"登录 - For Fun"}},[n("div",{staticClass:"me-login-box me-login-box-radius"},[n("h1",[e._v("登录")]),e._v(" "),n("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.rules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{placeholder:"用户名"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{placeholder:"密码",type:"password"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),e._v(" "),n("el-form-item",{staticClass:"me-login-button",attrs:{size:"small"}},[n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.login("userForm")}}},[e._v("登录")])],1)],1),e._v(" "),n("div",{staticClass:"me-login-design"})],1)])},staticRenderFns:[]};var r=n("VU/8")({name:"Login",data:function(){return{userForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{max:10,message:"不能大于10个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{max:10,message:"不能大于10个字符",trigger:"blur"}]}}},methods:{login:function(e){var t=this,n=this;this.$refs[e].validate(function(e){if(!e)return!1;n.$store.dispatch("login",n.userForm).then(function(){t.$router.push({path:"/"})}).catch(function(e){"error"!==e&&n.$message({message:e,type:"error",showClose:!0})})})}}},a,!1,function(e){n("dQKM")},"data-v-ba601b26",null);t.default=r.exports},mlqX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("exGp"),i=n.n(s),o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"text-align":"left"}},[e._m(0),e._v(" "),n("div",{staticStyle:{height:"40px","line-height":"40px"}},[n("label",{staticStyle:{"font-weight":"800","font-size":"18px"}},[e._v(e._s(e.title))]),e._v(" "),n("label",{staticStyle:{color:"#C0C0C0"}},[e._v("数据更新时间： "+e._s(e.updateTime))])])]),e._v(" "),n("el-row",{staticStyle:{"margin-top":"50px"}},e._l(e.sums,function(t){return n("el-col",{key:t.name,attrs:{span:4}},[n("div",{staticClass:"grid-content ",attrs:{align:"center"}},[n("div",{staticClass:"sum_numb",style:{color:t.color,fontSize:"20px",marginBottom:"8px"}},[e._v(e._s(t.sum))]),e._v(" "),n("div",{staticClass:"sum_numb",staticStyle:{color:"#333333","font-size":"14px"}},[e._v(e._s(t.text))]),e._v(" "),n("div",{staticClass:"sum_numb",staticStyle:{"font-size":"13px",color:"#999999","margin-top":"8px"}},[n("label",{staticStyle:{"font-weight":"200"}},[e._v("昨日 ")]),e._v(" "),t.add>=0?n("label",{style:{color:t.color}},[e._v("+"+e._s(t.add))]):n("label",{style:{color:t.color}},[e._v(e._s(t.add))])])])])}),1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[t("h2",[this._v("疫情期间防聚集便民系统")])])}]};var c=n("VU/8")({name:"message",props:["title","updateTime","sums"]},o,!1,function(e){n("djBx")},"data-v-f8920baa",null).exports,u=n("OOvn"),l=n("XLwt"),d=n.n(l),m=(n("Bhwq"),n("bIQF"),{name:"china",data:function(){return{chinaList:[],options:{title:{text:"中国疫情地图",left:"center",subtext:"点击标题返回全国地图",triggerEvent:!0,textStyle:{fontWeight:"normal"}},series:[{type:"map",map:"china",label:{show:!0,color:"black",fontSize:10},zoom:1.25,itemStyle:{borderColor:"gray"},emphasis:{label:{},itemStyle:{borderColor:"#ccc"}}}],tooltip:{show:!0,trigger:"item",formatter:" 地区：{b}<br/>现有确诊：{c}"},visualMap:{type:"piecewise",inRange:{color:["#CCC","#F2B252","#D1241A"]},pieces:[{min:1e4,color:"#D1241A"},{min:1e3,max:9999,color:"#F27152"},{min:100,max:999,color:"#F28E52"},{min:10,max:99,color:"#F2B252"},{min:1,max:9,color:"#FFFFCC"},{value:0}]}}}},mounted:function(){var e=this;this.mychinaChart=d.a.init(document.getElementById("chart"));var t,a=[["上海","河北","山西","内蒙古","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","北京","天津","重庆","香港","澳门","台湾"],["shanghai","hebei","shanxi","neimenggu","liaoning","jilin","heilongjiang","jiangsu","zhejiang","anhui","fujian","jiangxi","shandong","henan","hubei","hunan","guangdong","guangxi","hainan","sichuan","guizhou","yunnan","xizang","shanxi1","gansu","qinghai","ningxia","xinjiang","beijing","tianjin","chongqing","xianggang","aomen","taiwan"]];Object(u.a)({url:"/index/getChinaList",method:"post"}).then(function(t){e.options.series[0].data=t.data,e.mychinaChart.setOption(e.options,!0)}),this.mychinaChart.setOption(this.options,!0),this.mychinaChart.on("click",(t=i()(r.a.mark(function t(s){var i,o,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=s.name,o=0,c=a[0].length;case 2:if(!(o<c)){t.next=13;break}if(i!=a[0][o]){t.next=10;break}return t.next=6,n("AZN1")("./"+a[1][o]);case 6:e.options.series[0].map=a[0][o],e.options.series[0].label.show=!1,e.options.title.text=s.name+"疫情地图",e.mychinaChart.setOption(e.options,!0);case 10:o++,t.next=2;break;case 13:"title"==s.componentType&&(e.options.series[0].map="china",e.options.series[0].label.show=!0,e.options.title.text="中国疫情地图",e.mychinaChart.setOption(e.options,!0));case 14:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},methods:{}}),f={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"map"}},[t("div")])}]};var h={name:"Index",created:function(){this.tagList()},data:function(){return{title:"国内疫情",sums:[],updateTime:""}},methods:{tagList:function(){var e=this;return i()(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)({url:"/index/getTotalData",method:"post"});case 2:n=t.sent,e.sums=n.data.tagList,e.updateTime=n.data.date;case 5:case"end":return t.stop()}},t,e)}))()}},components:{message:c,china:n("VU/8")(m,f,!1,function(e){n("Fsl4")},"data-v-02145fd8",null).exports}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"only"},[t("message",{attrs:{title:this.title,sums:this.sums,updateTime:this.updateTime}}),this._v(" "),t("china",{staticStyle:{width:"100%",height:"800px","margin-top":"40px"},attrs:{id:"chart",align:"center"}})],1)},staticRenderFns:[]};var g=n("VU/8")(h,p,!1,function(e){n("0f9C")},null,null);t.default=g.exports},qb6w:function(e,t){},tcoL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("exGp"),i=n.n(s),o=n("M9A7"),c={name:"Register",data:function(){return{userForm:{username:"",nickName:"",password:"",email:"",verify:""},show:!1,count:"",timer:null,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{max:10,message:"不能大于10个字符",trigger:"blur"}],nickName:[{required:!0,message:"请输入昵称",trigger:"blur"},{max:10,message:"不能大于10个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{max:10,message:"不能大于10个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],verify:[{required:!0,message:"请输入验证码",trigger:"blur"},{max:6,message:"不符合验证码格式",trigger:"blur"}]}}},methods:{register:function(){var e=this;return i()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.UserInfoForm.validate(function(){var t=i()(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,Object(o.e)(e.userForm,e.userForm.verify);case 3:"合法"===(a=t.sent).message?e.$router.push({path:"/"}):e.$message({type:"info",message:a.message});case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},getCode:function(){var e=this;return i()(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.checkEmail()){t.next=4;break}return t.abrupt("return",!1);case 4:n=60,e.timer||(e.count=n,e.show=!0,e.timer=setInterval(function(){e.count>0&&e.count<=n?e.count--:(e.show=!1,clearInterval(e.timer),e.timer=null)},1e3));case 6:return t.next=8,Object(o.a)(e.userForm.email);case 8:case"end":return t.stop()}},t,e)}))()},checkEmail:function(){var e=this.userForm.email;if(!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e))return this.$message.error("请填写正确的邮箱"),!1}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"title",rawName:"v-title"}],attrs:{id:"register","data-title":"注册 - For Fun"}},[n("div",{staticClass:"me-login-box me-login-box-radius"},[n("h1",[e._v("注册")]),e._v(" "),n("el-form",{ref:"UserInfoForm",attrs:{model:e.userForm,rules:e.rules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{placeholder:"用户名"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"nickName"}},[n("el-input",{attrs:{placeholder:"昵称"},model:{value:e.userForm.nickName,callback:function(t){e.$set(e.userForm,"nickName",t)},expression:"userForm.nickName"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"email"}},[n("el-input",{attrs:{placeholder:"邮箱"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"verify"}},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"验证码"},model:{value:e.userForm.verify,callback:function(t){e.$set(e.userForm,"verify",t)},expression:"userForm.verify"}},[n("el-button",{attrs:{slot:"append",disabled:e.show},on:{click:function(t){return e.getCode()}},slot:"append"},[e._v("发送验证码")])],1)],1),e._v(" "),n("el-form-item",{staticClass:"me-login-button",attrs:{size:"small"}},[n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.register("userForm")}}},[e._v("注册")])],1)],1)],1)])},staticRenderFns:[]};var l=n("VU/8")(c,u,!1,function(e){n("0WFs")},"data-v-02b300fb",null);t.default=l.exports},tvR6:function(e,t){},w3dv:function(e,t){},yNC9:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9ec6ab4518d6e03937d8.js.map